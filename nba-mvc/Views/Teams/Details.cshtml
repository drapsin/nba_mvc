@model nba_mvc.Models.Team

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
    <h4>Team</h4>
    <hr />

    <div class="mb-3">
        <label><strong>Team Logo:</strong></label><br />
        <img src="@(string.IsNullOrEmpty(Model.ImageUrl) ? "/image/fallback-image.png" : Model.ImageUrl)"
             alt="Team Image" width="200" style="border: 1px solid #ccc;" />
    </div>

    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Name)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Name)
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.City)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.City)
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Site)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Site)
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Sponsor)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Sponsor)
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.News)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.News)
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Ranking)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Ranking)
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Contact)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Contact)
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.CreatedAt)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.CreatedAt)
        </dd>
    </dl>
</div>

<hr />
<h4>Players in Team</h4>

@if (Model.Players != null && Model.Players.Any())
{
    <table class="table table-bordered table-striped mt-3">
        <thead>
            <tr>
                <th>Image</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Age</th>
                <th>Position</th>
                <th>Details</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var player in Model.Players)
            {
                <tr>
                    <td>
                        <img src="@(string.IsNullOrEmpty(player.ImageUrl) ? "/image/fallback-image.png" : player.ImageUrl)"
                             alt="Player Image" width="80" style="border: 1px solid #ccc;" />
                    </td>
                    <td>@player.FirstName</td>
                    <td>@player.LastName</td>
                    <td>@player.Age</td>
                    <td>@player.Position</td>
                    <td>
                        <a asp-controller="Players" asp-action="Details" asp-route-id="@player.Id">View</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p>No players assigned to this team.</p>
}

<div class="mt-3">
    <a asp-action="Edit" asp-route-id="@Model?.Id">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>
